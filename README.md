# Open_Source_Vulnerability

- Dhruv Patel, Lynn Osborne, Jason Edwards
- Group Name: P.O.E.
- INFO/CSCI-B 433
- Xiaojing Liao

# Risks of Open Source Software

## Introduction:
To understand the risks of open source it first must be defined and understood. According to opensource.com, Open source is defined as “something people can modify and share because its design is publicly accessible”. A concrete example of open source would be something like a public painting wall. Anyone can see it, so it is available to everyone. And anyone can paint the wall, thus modifying it. Now this paper will be addressing a more specific type of open source, open source software. Open source software (OSS) is more specifically defined as “software with source code that anyone can inspect, modify, and enhance” (“What is open source?”). Great examples of OSS are things like Linux, Godot, Radare2, Android, Blender, Chromium , ect. While the previously listed items are all complete applications, OSS is not just limited to applications. Packages that are include in source code like #include<math.h> in C and plug-ins like adblock for chrome, are also considered open source software.
This begs the question: why is OSS so popular? One reason is that it is typically free. Paying for a software developer typically costs $50,000 for a full time job, so naturally free begins to look very appealing for both home and enterprise use. Not to mention it saves time. Programming something like an operating system can take years of planning and implementation to get the base state. Meanwhile Linux is ready to be deployed. Not to mention that OSS has multiple people creating and updating the software. If a bug needs to be fixed or a new feature implemented,  it will be done quickly. With all of these benefits it is no wonder that people and organizations have been using OSS quite heavily. However, with all of those benefits there are drawbacks. More importantly, there are significant security risks with OSS that can be missed if the user is not careful. 
## Approach:
In compiling this document it was thought that it would be best to make this approachable to most readers. To do that, an example of an open source code security breach will be given. Then, the paper should be able to discuss some of the issues that occurred, how current practices are preventing those issues, and ideas for future solutions. What this paper uses is a scholarly article, along with various articles written to tech media on how to minimize these risks.  We also use multiple educational videos on Log4j that will be available in the works cited section that will be useful as a more in depth explanation of that particular vulnerability if the reader wishes to do so. Unfortunately with limited time, a busy schedule, and a change in subject, this paper will not be as comprehensive as a paper. This paper is going to be much more of an introductory type to the subject at hand. To better understand open source code vulnerabilities, we compared the general option of how secure open source code is to the reality of open source security breaches. We saw that there was some discrepancy after finding reports of catastrophic vulnerabilities in open source code. These discrepancies will be addressed in a later section.
## Example of Open Source Software Vulnerabilities:
An example of some of these risks of open source code is the Log4j vulnerability. Log4j is an open source logging software. Logging software is designed to keep track of the current and previous states of a system. If a user logs in, the software will keep track of who logged in, what time, and what changes they begin to make to the system. What it tracks can be creating new data, accessing data, or moving data. However, there is a problem with its implementation. It has a similar structure to SQL with variables within string sentences. This means that the variables can rely on user inputs and can have similar escape character issues and suffer from logging injection. Log4j also suffers from a client server problem online, where some of the input data must be provided by the user and can therefore be unreliable and/or dangerous information. This defeats the point of a logging software that is supposed to accurately and safely log every action. Furthermore, there is an even larger risk. Log4j works with the Java Naming and Directory Service (JNDI). JNDI was added to Log4j in 2013 to add features to the logging software, however it was discovered in late 2020 that these additional features were also vulnerable to the user injection attack. The problem lay in one of JNDI’s commands. As an application programming interface (API) it is designed to communicate between two or more applications. However, in addition to being able to communicate JNDI is able to locate executable files [programs and applications that are ready to start operating on command] and execute them. When JNDI is used in an online scope such as a server, If JNDI can make a connection with another computer’s directory (file storage system) it can download and run files from the computer onto the server. When combined with a logging software such as log4j now capable of cross-site-scripting  This is where the capabilities of these features were beyond just logging, and now could allow a malicious user to craft injection attacks that could run remote code. This demonstrates a huge risk of open source software, because even though the code was open to public scrutiny, it still took around 7 years for people to find this critical vulnerability. Furthermore, that wasn’t even the worst part, 
What makes this vulnerability so dangerous is how permeating the actual Log4j library is. Major tech companies like Nvidia, Intuit, Hewlett Packard Enterprise, Cloudflare, Microsoft, IBM, Red Hat, Salesforce, Siemens, and more are using Log4j as their logging solution. Not just organizations, but ubiquitous platforms from VMware to Amazon Web Services are using this tool in their products and services. Even entertainment applications like Steam and Minecraft (Java Edition) rely heavily on Log4j. (Hreiki)
The worst part was that since everyone assumed it was safe, they used Log4j as a part of their own software, which is now compromised because of their dependency on it. 
## Survey of Existing Techniques/Solutions: 
Now that a real life example has been given and the dangers explained, what are the existing techniques that could have prevented this?
Dependencies. More specifically keeping track of dependencies, and minimizing them. Dependencies are pieces of code or full applications that other code depends upon, and they are the most important aspect of this kind of security. Nowadays most of the projects are made from a lot of different small code, libraries and other different open sources. It is convenient to developers but along with that it also increases the risk on that project. And according to Franklin, “Not all of them will be called explicitly in the enterprise code, and many are likely to be dependencies called within a piece of code incorporated by name.” This can be especially bad if the open source code you are copying from suffers from this kind of issue. 
As you can see above, nearly every software depends upon software A and If software A is compromised then everyone else is compromised. But what if Software D knows that it depends on B and is unaware that B depends upon A because of B’s bad documentation? This is where dependency on dependency becomes extremely dangerous because software A could be compromised and D would never know that it was compromised. This is just like Microsoft depending upon Log4j, which itself was depending upon JNDI. Software developers must keep track of all their dependencies Which brings up the next point, minimize dependencies. Franklin found a report by Synopsis which stated that “...the average codebase analyzed in 2019 contained about 445 open source components.”. 445 open source componentes is a massive number, and that isn’t even taking into account those dependencies that each of those open source components have. This is where dependencies become a truly massive problem, which is why it is best to minimize your dependencies as much as possible. Check if the software is really necessary to the functionality of the code. It’s surprising how much subpar code is used, just because people either didn’t check if it was necessary or checked if there was a better alternative. According to Computerphile, Log4j wasn’t that great of a logging software. There are far better logging softwares out there, and writing a basic logging software that doesn’t have those security flaws and simply works better than Log4j is actually easy. The real reason that many users, including big companies like Nvidia, choose to use Log4j is that it is the basic default for java. That’s it. The largest security vulnerability in years occurred because some of the largest companies in the world choose to use the subpar default logging software. This is why not depending upon other software is key. They could’ve written the software in-house, which would’ve made this a much more minor threat. They could’ve chosen a different software that didn’t have external dependencies like Log4j had with JNDI. So don’t use software if it isn’t necessary, and if it is then keep track of all its dependencies and try and find an alternative solution with less if possible. 
Finally, it is good practice to update all software regularly. Log4j was patched so that all the new versions beyond 2.16-17 are safe. Patches are important for all software and for a secure system it is necessary. Patches while fixing minor bugs and such, also fix recently discovered holes in security. Open source has patches, but they are not like Windows where it automatically updates. Any user of open source software must take responsibility upon themselves and update their software as often as possible. 
## Future Suggestions: 
This was somewhat addressed earlier but It needs to be addressed again. Keep track of the repositories used. Open source code comes from somewhere. Nowaday a great deal of source code is documented and archived on Github, however it isn’t the only one. Google Cloud Source Repositories is another place for code to be stored. It can even be stored on a private server. It’s essential to keep track of these kinds of locations because you cannot update the code if you don’t know where it is. Furthermore, there is an important question on repository author trustworthiness. Who is writing the code? Who is responsible for updating the repository when necessary. All repositories require permissions from someone to formally update the code and make that update open to the public. If the author is not active, or the author is not responsible enough, all the benefits of fast updates, and reliability of Open source is lost. Not to mention what if the author is a malicious user? What if the repository’s code is dangerous? The author's history must be known to other users. The author’s current and past code must not have too many security flaws or a recurring pattern of a certain flaw to indicate malice. The author must be active in either writing code, or at least merging new code from others. Finally the code that the authors allow to be published by others must be safe, so that the author and other contributors and users are also protected. 
There is also the idea of reading the source code. It might sound obvious, but if c programers are asked, “When have you looked at the source code for math.c ?” they would reply “Never.”. If people are shown that the code does work and are told how to use it, then very few people will look into the fine details of the code. There are many security flaws that could’ve been caught if someone looked at the code. Log4j’s logging code had a similar look to SQL and people began to test for similar injection vulnerabilities and found some. However, not all flaws can be so easily detected. In some the code is complicated and as stated before few people look at it. This means that even fewer will understand all the details, and it only takes one small security error to cause vulnerabilities. This is magnified when the code is extensive and is used for much more complicated things than arithmetic. Take for example the code for Blender. Blender is a 3D modeling and rendering software. The code to run this requires lots of linear algebra and a good understanding of multithreaded workload in conjunction with GPUs. If security testers don’t understand what is necessary for the application to run or how it works, reading the source code to check for vulnerabilities becomes much harder. 
This is where automation comes in. Repositories are extensive and there can be hundreds of dependencies that will also need to be checked. This is too much for a single programmer or even a whole team. Not to mention that even if a team could do it, it wouldn’t be fast enough to respond to critical flaws in security to be patched. Automation can solve that. As stated by Franklin, “GitHub, for example, has launched Dependabot as a tool to monitor dependencies.”.  Instead of having a team of coders constantly checking sections of repositories at a time, a bot can check all of it at once. This is not to mention that a bot can run 24/7 so if a vulnerability is discovered it can be reported as soon as possible. They are also incredibly fast, with the ability to do what would take teams of programmers weeks, in hours. There is a catch however, automation is not perfect. There will always be bits of code that the machine isn’t searching for so it must be updated frequently and programers must be aware of any newly discovered flaws and add it to the system’s parameters. 
## Conclusions: 
Open Source Software is increadly powerful tool in any programmer's hands. It allows for users to quickly build new software with increased functionality and ease of use. There are however dangers that these users must be aware of and the best practices to combat them. The biggest of all of these dangers is dependencies on compromised software and the users not updating or making changes to the software because of being unaware of those dependencies. What the user should do is check on the documentation of those dependencies, and keep track of them with the user’s own documentation of their software. Then the user must stay vigilant about any vulnerabilities that are discovered and either update the software if amiable, or drop the software if necessary. If the user has too many dependencies, then they must either reduce the amount of dependencies, or use some of the automations tools that are available to help manage the dependencies. The author and reliability of the software must be assessed before use. If these guidelines are followed, Open source software will be a great boon. If not, then it might become more trouble than it’s worth. 


## Works Cited
- Computerphile. Log4J & JNDI Exploit: Why So Bad? - Computerphile. An in-depth explanation of Log4j and its relation to JNDI. 22 December 2021. Youtube, Computerphile, https://youtu.be/Opqgwn8TdlM. Accessed 30 April 2022.
- Franklin, Curtis. “6 Best Practices for Using Open Source Software Safely.” darkreading.com, Informa PLC Informa UK Limited, 6 October 2020, https://www.darkreading.com/application-security/6-best-practices-for-using-open-source-software-safely?slide=2. Accessed 30 April 2020.
- Hreiki, William. “Log4j: The Vulnerability and Solution.” Developer.com, 28 January 2022, https://www.developer.com/open-source/log4j-vulnerability-solution/. Accessed 30 April 2022.
- Jacobs, Matt, et al. “How to Create an Open Source Management Policy.” Synopsys, 7 November 2016, https://www.synopsys.com/blogs/software-security/open-source-management-policy/. Accessed 30 April 2022.
- Java Brains. Log4J Vulnerability (Log4Shell) Explained - for Java developers. Online Video that Discusses what the Log4j vulnerability is and gives examples. 16 December 2021. YouTube, Java Brains, https://youtu.be/uyq8yxWO1ls. Accessed 30 April 2022.
- “What is open source?” Opensource.com, Red Hat, Inc, https://opensource.com/resources/what-open-source. Accessed 29 April 2022.
- Zhao, Yuhang, et al. “Evaluation indicators for open-source software: a review - Cybersecurity.” Cybersecurity, 2 June 2021, https://cybersecurity.springeropen.com/articles/10.1186/s42400-021-00084-8#citeas. Accessed 30 April 2022.
